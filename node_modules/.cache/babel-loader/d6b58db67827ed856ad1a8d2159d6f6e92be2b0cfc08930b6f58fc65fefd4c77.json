{"ast":null,"code":"import _objectSpread from\"/Users/niharlandge/20-Projects/20-08-AI_Quiz/academy-x/academy-x/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';// Firebase services\nimport{auth,db}from'./firebase/config';import{onAuthStateChanged}from'firebase/auth';import{collection,getDocs}from'firebase/firestore';// Layout & Helpers\nimport Header from'./components/layout/Header';import AnimatedBackground from'./components/common/AnimatedBackground';// Page Components\nimport LandingPage from'./pages/LandingPage';import AuthPage from'./pages/AuthPage';import FolderPage from'./pages/FolderPage';import AdminPanel from'./pages/AdminPanel';import QuizLobby from'./pages/QuizLobby';import ActiveQuiz from'./pages/ActiveQuiz';import QuizResults from'./pages/QuizResults';// FontLoader component remains the same\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const FontLoader=()=>{useEffect(()=>{const link=document.createElement('link');link.href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap\";link.rel=\"stylesheet\";document.head.appendChild(link);return()=>{document.head.removeChild(link);};},[]);return null;};export default function App(){// --- GLOBAL STATE MANAGEMENT ---\nconst[loggedIn,setLoggedIn]=useState(false);const[user,setUser]=useState(null);// To store user details\nconst[isLoading,setIsLoading]=useState(true);// To handle initial auth check\nconst[theme,setTheme]=useState('dark');const[view,setView]=useState('landing');const[features,setFeatures]=useState([]);// Start with an empty array\nconst[activeFeature,setActiveFeature]=useState(null);// --- EFFECT HOOKS ---\nuseEffect(()=>{// Fetch features from Firestore when the component mounts\nconst fetchFeatures=async()=>{try{const featuresCollection=collection(db,'features');const featuresSnapshot=await getDocs(featuresCollection);const featuresList=featuresSnapshot.docs.map(doc=>_objectSpread(_objectSpread({},doc.data()),{},{docId:doc.id}));setFeatures(featuresList);}catch(error){console.error(\"Error fetching features: \",error);// Handle error (e.g., show a notification)\n}};fetchFeatures();},[]);useEffect(()=>{// Listen for authentication state changes\nconst unsubscribe=onAuthStateChanged(auth,currentUser=>{if(currentUser){// User is signed in\nsetUser(currentUser);setLoggedIn(true);setView('landing');}else{// User is signed out\nsetUser(null);setLoggedIn(false);}setIsLoading(false);// Auth check is complete\n});// Cleanup subscription on unmount\nreturn()=>unsubscribe();},[]);useEffect(()=>{if(theme==='dark'){document.documentElement.classList.add('dark');}else{document.documentElement.classList.remove('dark');}},[theme]);// --- VIEW RENDERING LOGIC ---\nconst renderView=()=>{if(isLoading){// You can replace this with a beautiful loading spinner component\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"text-white text-center p-10\",children:\"Loading...\"});}if(view==='folderPage'&&activeFeature){return/*#__PURE__*/_jsx(FolderPage,{feature:activeFeature,setView:setView});}switch(view){case'auth':return/*#__PURE__*/_jsx(AuthPage,{setView:setView});case'adminPanel':return/*#__PURE__*/_jsx(AdminPanel,{setView:setView,features:features,setFeatures:setFeatures});case'quizLobby':return/*#__PURE__*/_jsx(QuizLobby,{setView:setView});case'quizActive':return/*#__PURE__*/_jsx(ActiveQuiz,{setView:setView});case'quizResults':return/*#__PURE__*/_jsx(QuizResults,{setView:setView});case'landing':default:return/*#__PURE__*/_jsx(LandingPage,{loggedIn:loggedIn,setView:setView,features:features,setActiveFeature:setActiveFeature});}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FontLoader,{}),theme==='dark'&&/*#__PURE__*/_jsx(AnimatedBackground,{}),/*#__PURE__*/_jsx(\"div\",{className:\"relative z-10 bg-transparent transition-colors duration-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative pt-24\",children:[/*#__PURE__*/_jsx(Header,{loggedIn:loggedIn,setLoggedIn:setLoggedIn,theme:theme,setTheme:setTheme,setView:setView,isAuthPage:view==='auth'}),renderView()]})})]});}","map":{"version":3,"names":["React","useState","useEffect","auth","db","onAuthStateChanged","collection","getDocs","Header","AnimatedBackground","LandingPage","AuthPage","FolderPage","AdminPanel","QuizLobby","ActiveQuiz","QuizResults","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FontLoader","link","document","createElement","href","rel","head","appendChild","removeChild","App","loggedIn","setLoggedIn","user","setUser","isLoading","setIsLoading","theme","setTheme","view","setView","features","setFeatures","activeFeature","setActiveFeature","fetchFeatures","featuresCollection","featuresSnapshot","featuresList","docs","map","doc","_objectSpread","data","docId","id","error","console","unsubscribe","currentUser","documentElement","classList","add","remove","renderView","className","children","feature","isAuthPage"],"sources":["/Users/niharlandge/20-Projects/20-08-AI_Quiz/academy-x/academy-x/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\n// Firebase services\nimport { auth, db } from './firebase/config';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { collection, getDocs } from 'firebase/firestore';\n\n// Layout & Helpers\nimport Header from './components/layout/Header';\nimport AnimatedBackground from './components/common/AnimatedBackground';\n\n// Page Components\nimport LandingPage from './pages/LandingPage';\nimport AuthPage from './pages/AuthPage';\nimport FolderPage from './pages/FolderPage';\nimport AdminPanel from './pages/AdminPanel';\nimport QuizLobby from './pages/QuizLobby';\nimport ActiveQuiz from './pages/ActiveQuiz';\nimport QuizResults from './pages/QuizResults';\n\n// FontLoader component remains the same\nconst FontLoader = () => {\n    useEffect(() => {\n        const link = document.createElement('link');\n        link.href = \"https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap\";\n        link.rel = \"stylesheet\";\n        document.head.appendChild(link);\n\n        return () => {\n            document.head.removeChild(link);\n        }\n    }, []);\n    return null;\n};\n\nexport default function App() {\n    // --- GLOBAL STATE MANAGEMENT ---\n    const [loggedIn, setLoggedIn] = useState(false);\n    const [user, setUser] = useState(null); // To store user details\n    const [isLoading, setIsLoading] = useState(true); // To handle initial auth check\n    const [theme, setTheme] = useState('dark');\n    const [view, setView] = useState('landing');\n    const [features, setFeatures] = useState([]); // Start with an empty array\n    const [activeFeature, setActiveFeature] = useState(null);\n\n    // --- EFFECT HOOKS ---\n    useEffect(() => {\n        // Fetch features from Firestore when the component mounts\n        const fetchFeatures = async () => {\n            try {\n                const featuresCollection = collection(db, 'features');\n                const featuresSnapshot = await getDocs(featuresCollection);\n                const featuresList = featuresSnapshot.docs.map(doc => ({ ...doc.data(), docId: doc.id }));\n                setFeatures(featuresList);\n            } catch (error) {\n                console.error(\"Error fetching features: \", error);\n                // Handle error (e.g., show a notification)\n            }\n        };\n\n        fetchFeatures();\n    }, []);\n\n    useEffect(() => {\n        // Listen for authentication state changes\n        const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\n            if (currentUser) {\n                // User is signed in\n                setUser(currentUser);\n                setLoggedIn(true);\n                setView('landing');\n            } else {\n                // User is signed out\n                setUser(null);\n                setLoggedIn(false);\n            }\n            setIsLoading(false); // Auth check is complete\n        });\n\n        // Cleanup subscription on unmount\n        return () => unsubscribe();\n    }, []);\n\n    useEffect(() => {\n        if (theme === 'dark') {\n            document.documentElement.classList.add('dark');\n        } else {\n            document.documentElement.classList.remove('dark');\n        }\n    }, [theme]);\n\n    // --- VIEW RENDERING LOGIC ---\n    const renderView = () => {\n        if (isLoading) {\n            // You can replace this with a beautiful loading spinner component\n            return <div className=\"text-white text-center p-10\">Loading...</div>;\n        }\n\n        if (view === 'folderPage' && activeFeature) {\n            return <FolderPage feature={activeFeature} setView={setView} />;\n        }\n        \n        switch (view) {\n            case 'auth':\n                return <AuthPage setView={setView} />;\n            case 'adminPanel':\n                return <AdminPanel setView={setView} features={features} setFeatures={setFeatures} />;\n            case 'quizLobby':\n                return <QuizLobby setView={setView} />;\n            case 'quizActive':\n                return <ActiveQuiz setView={setView} />;\n            case 'quizResults':\n                return <QuizResults setView={setView} />;\n            case 'landing':\n            default:\n                return (\n                    <LandingPage\n                        loggedIn={loggedIn}\n                        setView={setView}\n                        features={features}\n                        setActiveFeature={setActiveFeature}\n                    />\n                );\n        }\n    };\n\n    return (\n        <>\n            <FontLoader />\n            {theme === 'dark' && <AnimatedBackground />}\n            <div className=\"relative z-10 bg-transparent transition-colors duration-500\">\n                 <div className=\"relative pt-24\">\n                    <Header\n                        loggedIn={loggedIn}\n                        setLoggedIn={setLoggedIn}\n                        theme={theme}\n                        setTheme={setTheme}\n                        setView={setView}\n                        isAuthPage={view === 'auth'}\n                    />\n                    {renderView()}\n                </div>\n            </div>\n        </>\n    );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}